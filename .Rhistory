caption = 'End the Syndemic | DataLab 2022',
subtitle = 'TN Hospitals 2019',
x = 'Primary Payer',
y = 'Cost Paid (in billions of US dollars)') +
scale_fill_manual(md_top_payers, values = c('beige', 'red')) +
theme(legend.position = '0')
#Creates a list of SUDs & ENDO or SSTVI for the ggvenn package to read
syndemic_list <-
list('SUDs' = which(md$sud),
'SSTVIs or Endocarditis' = which(md$endo | md$sstvi))
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "OrRd", direction = 1) +
scale_color_brewer(palette = "Set2")
#Plots government vs private total funding for syndemic patients
ggplot(data = md_big_gov,
aes(y = total/100000000000,
x = gov,
fill = gov ) ) +
geom_col() +
labs(title = 'Costs Paid by the Government vs Commercial Providers',
caption = 'End the Syndemic | DataLab 2022',
subtitle = 'TN Hospitals 2019',
x = 'Primary Payer',
y = 'Cost Paid (in billions of US dollars)') +
scale_fill_manual(md_top_payers, values = c('lightsalmon', 'red')) +
theme(legend.position = '0')
#Plots government vs private total funding for syndemic patients
ggplot(data = md_big_gov,
aes(y = total/100000000000,
x = gov,
fill = gov ) ) +
geom_col() +
labs(title = 'Costs Paid by the Government vs Commercial Providers',
caption = 'End the Syndemic | DataLab 2022',
subtitle = 'TN Hospitals 2019',
x = 'Primary Payer',
y = 'Cost Paid (in billions of US dollars)') +
scale_fill_manual(md_top_payers, values = c('lightsalmon', 'red4')) +
theme(legend.position = '0')
#Plots the top 5 primary payers by their costs paid for syndemic patients
ggplot(data = md_top_payers,
aes(y = total/100000000000,
x = reorder(Primary_Payer_Class_Cd, -total),
fill = gov ) ) +
geom_col() +
labs(title = 'Costs Paid by Top Payers',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022',
x = 'Primary Payer',
y = 'Cost Paid (in billions of US dollars)') +
scale_fill_manual(md_top_payers, values = c('lightsalmon', 'red4'),
labels = c('Privately Funded', 'Government Funded', '', '', ''),
name = 'Color Legend:') +
theme(legend.position = 'bottom') +
theme(axis.text.x = element_text(angle = 10))
#Plots the top 5 primary payers by their costs paid for syndemic patients
ggplot(data = md_top_payers,
aes(y = total/100000000000,
x = reorder(Primary_Payer_Class_Cd, -total),
fill = gov ) ) +
geom_col() +
labs(title = 'Costs Paid by Top Payers',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022',
x = 'Primary Payer',
y = 'Cost Paid (in billions of US dollars)') +
scale_fill_manual(md_top_payers, values = c('red4', 'lightsalmon'),
labels = c('Privately Funded', 'Government Funded', '', '', ''),
name = 'Color Legend:') +
theme(legend.position = 'bottom') +
theme(axis.text.x = element_text(angle = 10))
source("~/Desktop/Syndemic Project/syndemic/syndemic_graphs_jacob.R", echo=TRUE)
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "RdBU", direction = 1) +
scale_color_brewer(palette = "Set2")
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "RdBu", direction = 1) +
scale_color_brewer(palette = "Set2")
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "Spectral", direction = 1) +
scale_color_brewer(palette = "Set2")
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "Set1", direction = 1) +
scale_color_brewer(palette = "Set2")
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "Paired", direction = 1) +
scale_color_brewer(palette = "Set2")
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "diverge_hsv", direction = 1) +
scale_color_brewer(palette = "Set2")
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "Red", direction = 1) +
scale_color_brewer(palette = "Set2")
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "red", direction = 1) +
scale_color_brewer(palette = "Set2")
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "RdYlBu", direction = 1) +
scale_color_brewer(palette = "Set2")
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "RdYlBu", direction = 1) +
scale_color_brewer(palette = "Set1")
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "RdYlBu", direction = 1) +
scale_color_brewer(palette = "Set2")
#Plots SUDS and sepsis
ggplot(data = md_phi_jacob%>%
filter(!Age_Groups == '65+', !Age_Groups == '0-17', sud&sepsis) %>%
group_by(Age_Groups, quarter) %>%
tally(),
aes(x = quarter,
y = n,
color = Age_Groups)) +
geom_point() +
geom_line() +
labs(title = 'Trends in Hospitalization for Substance Abuse and Sepsis',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022',
x = 'Yearly Quarter',
y = 'Total Patients')
#Plots SUDS and SSTVIs
ggplot(data = md_phi_jacob %>%
filter(!Age_Groups == '65+', !Age_Groups == '0-17', sud&sstvi),
aes(x = quarter,
y = Total_Tot_Chrg/100,
fill = gov)) +
geom_col(position = 'dodge') +
labs(title = 'Trends in Hospitalization for Substance Abuse and all SSTVIs',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022',
x = 'Yearly Quarter',
y = 'Cost (In US Dollars)',
fill = 'Primary Payer:') +
theme(legend.position = 'bottom')
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "RdYlBu", direction = 1) +
scale_color_brewer(palette = "Set2")
#Plots government vs private total funding for syndemic patients
ggplot(data = md_big_gov,
aes(y = total/100000000000,
x = gov,
fill = gov ) ) +
geom_col() +
labs(title = 'Costs Paid by the Government vs Commercial Providers',
caption = 'End the Syndemic | DataLab 2022',
subtitle = 'TN Hospitals 2019',
x = 'Primary Payer',
y = 'Cost Paid (in billions of US dollars)') +
scale_fill_manual(md_top_payers, values = c('tomato', 'red4')) +
theme(legend.position = '0')
#Plots government vs private total funding for syndemic patients
ggplot(data = md_big_gov,
aes(y = total/100000000000,
x = gov,
fill = gov ) ) +
geom_col() +
labs(title = 'Costs Paid by the Government vs Commercial Providers',
caption = 'End the Syndemic | DataLab 2022',
subtitle = 'TN Hospitals 2019',
x = 'Primary Payer',
y = 'Cost Paid (in billions of US dollars)') +
scale_fill_manual(md_top_payers, values = c('tomato', 'royalblue')) +
theme(legend.position = '0')
source("~/Desktop/Syndemic Project/syndemic/syndemic_graphs_jacob.R", echo=TRUE)
display.brewer.all()
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "RdBu", direction = 1) +
scale_color_brewer(palette = "Set2")
#Creates palette we will use
mycols <- colors()[c(8, 5, 30, 53, 118, 72)]
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "mycols", direction = 1) +
scale_color_brewer(palette = "Set2")
#Creates palette we will use
mycols <- colors([c(8, 5, 30, 53, 118, 72)])
)
)
#Creates palette we will use
mycols <- colors()[c(8, 5, 30, 53, 118, 72)]
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "mycols", direction = 1) +
scale_color_brewer(palette = "Set2")
RdBu
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalizations overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022') +
scale_fill_distiller(palette = "RdBu", direction = 1) +
scale_color_brewer(palette = "Set2")
#Sets up an object that groups by primary payer,
#sums the total costs each payer paid for syndemic patients,
#only saves the top 5,
#and then adds a new column, gov, for if it was funded by the government or not
md_top_payers <- md %>%
filter(sud & endo | sstvi) %>%
group_by(Primary_Payer_Class_Cd) %>%
summarise(total = sum(Total_Tot_Chrg)) %>%
arrange(desc(total)) %>%
head(5) %>%
mutate(gov = ifelse(Primary_Payer_Class_Cd %in% c('M','K','J'), TRUE, FALSE))
source("~/Desktop/Syndemic Project/syndemic/syndemic_graphs_jacob.R", echo=TRUE)
#Plots SUDS and SSTVIs
ggplot(data = md_phi_jacob %>%
filter(!Age_Groups == '65+', !Age_Groups == '0-17', sud&sstvi),
aes(x = quarter,
y = Total_Tot_Chrg/100,
fill = gov)) +
geom_col(position = 'dodge') +
labs(title = 'Trends in Costs for Substance Abuse and all SSTVIs',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022',
x = 'Yearly Quarter',
y = 'Cost (In US Dollars)',
fill = 'Primary Payer:') +
theme(legend.position = 'bottom')
#Plots SUDS and SSTVIs
ggplot(data = md_phi_jacob %>%
filter(!Age_Groups == '65+', !Age_Groups == '0-17', sud&sstvi),
aes(x = quarter,
y = Total_Tot_Chrg/100,
fill = gov)) +
geom_col(position = 'dodge') +
labs(title = 'Trends in Costs for Substance Abuse and all SSTVIs',
subtitle = 'TN Hospitals 2019',
caption = 'End the Syndemic | DataLab 2022',
x = 'Yearly Quarter',
y = 'Cost (In US Dollars)',
fill = 'Primary Payer:') +
theme(legend.position = 'bottom')
#Plots government vs private total funding for syndemic patients
ggplot(data = md_big_gov,
aes(y = total/100000000000,
x = gov,
fill = gov ) ) +
geom_col() +
labs(title = 'Costs Paid by the Government vs Commercial Providers',
caption = 'End the Syndemic | DataLab 2022',
subtitle = 'TN Hospitals 2019',
x = 'Primary Payer',
y = 'Cost Paid (in billions of US dollars)') +
scale_fill_manual(md_top_payers, values = c('tomato', 'royalblue')) +
theme(legend.position = '0')
library(RSQLite)
library(DBI)
library(dbplyr)
library(readr)
library(data.table)
library(RSQLite)
library(DBI)
library(dbplyr)
library(readr)
library(data.table)
setwd("~/Desktop/Syndemic Project")
# Reading in sqlite
portaldb <- dbConnect(SQLite(), "discharges_phi")
# List tables in database
dbListTables(portaldb)
# Column names
dbListFields(portaldb, "discharges_phi")
setwd("~/Desktop/Syndemic Project")
codes <- read_csv("./syndemic/codes.csv")
#####################################################################
# This data is already filtered for choosen column values!
data<-read_csv("impdataphi.csv")
colnames<-data %>% colnames[220,264]
library(RSQLite)
library(DBI)
library(dbplyr)
library(readr)
library(data.table)
setwd("~/Desktop/Syndemic Project")
# Reading in sqlite
portaldb <- dbConnect(SQLite(), "discharges_phi")
# List tables in database
dbListTables(portaldb)
# Column names
dbListFields(portaldb, "discharges_phi")
?dbListFields
dbColumnInfo(portaldb, "discharges_phi")
colnames<-c("Inpatient_Flag"
,"ASTC_Flag"                  ,"Obs_Unit_Flag"              ,"ER_Flag"                    ,"Lithotripsy_Flag"
,"PET_Flag"                   ,"MRI_MRA_Flag"               ,"Megavolt_Rad_Flag"          ,"CT_Flag"
,"Fatal_Error_Flag"           ,"Record_Num1"                ,"Bill_End"                   ,"MUL"
,"Patient_ID"                 ,"TN_Co_Res"                  ,"Tot_Charges_Recorded"       ,"Payer_A"
,"Payer_B"                    ,"Payer_C"                    ,"Amount_Counter"             ,"Tot_Charges_Analysis"
,"Race"                       ,"Age"                        ,"LOS"                        ,"Record_Num2"
,"DRG_Rank"                   ,"Inpat_Record_Flag"          ,"ER_Record_Flag"             ,"ASTC_Record_Flag"
,"Obs_23hr_Record_Flag"       ,"CON_Flag"                   ,"Cumulative_Record_Flag"     ,"Reportable_Flag"
,"TN_Res_Flag"                ,"TN_Co_Unk"                  ,"Hospital_Id_JAR"            ,"Tot_Charges_Summed"
,"Processing_Period"          ,"MS_MDC"                     ,"MS_DRG"                     ,"MS_DRG_4digit"
,"HAC")                        ,"CostWt"                     ,"Infant_Age_Months"
colnames<-c("Inpatient_Flag","ASTC_Flag","Obs_Unit_Flag","ER_Flag","Lithotripsy_Flag","PET_Flag" ,"MRI_MRA_Flag","Megavolt_Rad_Flag","CT_Flag","Fatal_Error_Flag"           ,"Record_Num1"                ,"Bill_End"                   ,"MUL",
"Patient_ID"                 ,"TN_Co_Res"                  ,"Tot_Charges_Recorded"       ,"Payer_A",
"Payer_B"                    ,"Payer_C"                    ,"Amount_Counter"             ,"Tot_Charges_Analysis",
"Race"                       ,"Age"                        ,"LOS"                        ,"Record_Num2",
"DRG_Rank"                   ,"Inpat_Record_Flag"          ,"ER_Record_Flag"             ,"ASTC_Record_Flag",
"Obs_23hr_Record_Flag"       ,"CON_Flag"                   ,"Cumulative_Record_Flag"     ,"Reportable_Flag",
"TN_Res_Flag"                ,"TN_Co_Unk"                  ,"Hospital_Id_JAR"            ,"Tot_Charges_Summed",
"Processing_Period"          ,"MS_MDC"                     ,"MS_DRG"                     ,"MS_DRG_4digit",
"HAC")                        ,"CostWt"                     ,"Infant_Age_Months"
colnames<-c("Inpatient_Flag","ASTC_Flag","Obs_Unit_Flag","ER_Flag","Lithotripsy_Flag","PET_Flag" ,"MRI_MRA_Flag","Megavolt_Rad_Flag","CT_Flag","Fatal_Error_Flag"           ,"Record_Num1"                ,"Bill_End"                   ,"MUL",
"Patient_ID"                 ,"TN_Co_Res"                  ,"Tot_Charges_Recorded"       ,"Payer_A",
"Payer_B"                    ,"Payer_C"                    ,"Amount_Counter"             ,"Tot_Charges_Analysis",
"Race"                       ,"Age"                        ,"LOS"                        ,"Record_Num2",
"DRG_Rank"                   ,"Inpat_Record_Flag"          ,"ER_Record_Flag"             ,"ASTC_Record_Flag",
"Obs_23hr_Record_Flag"       ,"CON_Flag"                   ,"Cumulative_Record_Flag"     ,"Reportable_Flag",
"TN_Res_Flag"                ,"TN_Co_Unk"                  ,"Hospital_Id_JAR"            ,"Tot_Charges_Summed",
"Processing_Period"          ,"MS_MDC"                     ,"MS_DRG"                     ,"MS_DRG_4digit",
"HAC")                        ,"CostWt"                     ,"Infant_Age_Months"
colnames<-c("Inpatient_Flag","ASTC_Flag","Obs_Unit_Flag","ER_Flag","Lithotripsy_Flag","PET_Flag" ,"MRI_MRA_Flag","Megavolt_Rad_Flag","CT_Flag","Fatal_Error_Flag"           ,"Record_Num1"                ,"Bill_End"                   ,"MUL",
"Patient_ID"                 ,"TN_Co_Res"                  ,"Tot_Charges_Recorded"       ,"Payer_A",
"Payer_B"                    ,"Payer_C"                    ,"Amount_Counter"             ,"Tot_Charges_Analysis",
"Race"                       ,"Age"                        ,"LOS"                        ,"Record_Num2",
"DRG_Rank"                   ,"Inpat_Record_Flag"          ,"ER_Record_Flag"             ,"ASTC_Record_Flag",
"Obs_23hr_Record_Flag"       ,"CON_Flag"                   ,"Cumulative_Record_Flag"     ,"Reportable_Flag",
"TN_Res_Flag"                ,"TN_Co_Unk"                  ,"Hospital_Id_JAR"            ,"Tot_Charges_Summed",
"Processing_Period"          ,"MS_MDC"                     ,"MS_DRG"                     ,"MS_DRG_4digit",
"HAC",                       ,"CostWt"                     ,"Infant_Age_Months")
colnames<-c("Inpatient_Flag","ASTC_Flag","Obs_Unit_Flag","ER_Flag","Lithotripsy_Flag","PET_Flag" ,"MRI_MRA_Flag","Megavolt_Rad_Flag","CT_Flag","Fatal_Error_Flag"           ,"Record_Num1"                ,"Bill_End"                   ,"MUL",
"Patient_ID"                 ,"TN_Co_Res"                  ,"Tot_Charges_Recorded"       ,"Payer_A",
"Payer_B"                    ,"Payer_C"                    ,"Amount_Counter"             ,"Tot_Charges_Analysis",
"Race"                       ,"Age"                        ,"LOS"                        ,"Record_Num2",
"DRG_Rank"                   ,"Inpat_Record_Flag"          ,"ER_Record_Flag"             ,"ASTC_Record_Flag",
"Obs_23hr_Record_Flag"       ,"CON_Flag"                   ,"Cumulative_Record_Flag"     ,"Reportable_Flag",
"TN_Res_Flag"                ,"TN_Co_Unk"                  ,"Hospital_Id_JAR"            ,"Tot_Charges_Summed",
"Processing_Period"          ,"MS_MDC"                     ,"MS_DRG"                     ,"MS_DRG_4digit",
"HAC""CostWt","Infant_Age_Months")
colnames<-c("Inpatient_Flag","ASTC_Flag","Obs_Unit_Flag","ER_Flag","Lithotripsy_Flag","PET_Flag" ,"MRI_MRA_Flag","Megavolt_Rad_Flag","CT_Flag","Fatal_Error_Flag"           ,"Record_Num1"                ,"Bill_End"                   ,"MUL",
"Patient_ID"                 ,"TN_Co_Res"                  ,"Tot_Charges_Recorded"       ,"Payer_A",
"Payer_B"                    ,"Payer_C"                    ,"Amount_Counter"             ,"Tot_Charges_Analysis",
"Race"                       ,"Age"                        ,"LOS"                        ,"Record_Num2",
"DRG_Rank"                   ,"Inpat_Record_Flag"          ,"ER_Record_Flag"             ,"ASTC_Record_Flag",
"Obs_23hr_Record_Flag"       ,"CON_Flag"                   ,"Cumulative_Record_Flag"     ,"Reportable_Flag",
"TN_Res_Flag"                ,"TN_Co_Unk"                  ,"Hospital_Id_JAR"            ,"Tot_Charges_Summed",
"Processing_Period"          ,"MS_MDC"                     ,"MS_DRG"                     ,"MS_DRG_4digit",
"HAC","CostWt","Infant_Age_Months")
colnames<-colnames %>% sort()
print(colnames)
colnames<-c("Inpatient_Flag","ASTC_Flag","Obs_Unit_Flag","ER_Flag","Lithotripsy_Flag","PET_Flag" ,"MRI_MRA_Flag","Megavolt_Rad_Flag","CT_Flag","Fatal_Error_Flag"           ,"Record_Num1"                ,"Bill_End"                   ,"MUL",
"Patient_ID"                 ,"TN_Co_Res"                  ,"Tot_Charges_Recorded"       ,"Payer_A",
"Payer_B"                    ,"Payer_C"                    ,"Amount_Counter"             ,"Tot_Charges_Analysis",
"Race"                       ,"Age"                        ,"LOS"                        ,"Record_Num2",
"DRG_Rank"                   ,"Inpat_Record_Flag"          ,"ER_Record_Flag"             ,"ASTC_Record_Flag",
"Obs_23hr_Record_Flag"       ,"CON_Flag"                   ,"Cumulative_Record_Flag"     ,"Reportable_Flag",
"TN_Res_Flag"                ,"TN_Co_Unk"                  ,"Hospital_Id_JAR"            ,"Tot_Charges_Summed",
"Processing_Period"          ,"MS_MDC"                     ,"MS_DRG"                     ,"MS_DRG_4digit",
"HAC","CostWt","Infant_Age_Months", "From_Dt", "Thru_Dt","Admit_Dt")
colnames<-colnames %>% sort()
print(colnames)
write_csv(colnames, "colnames")
#Reads in the private health info version of our dataset
md_phi <- read.csv('masterdataphi.csv')
getwd()
setwd(./syndemic)
setwd("./syndemic)
setwd("./syndemic")
#Reads in the private health info version of our dataset
md_phi <- read.csv('masterdataphi.csv')
View(md_phi)
########################
library(tidyverse)
ggplot(data = md_phi, aes(x = Age ))+
geom_histogram()
ggplot(data = md_phi, aes(x = Age ))+
geom_histogram()+
xlim(0,100)
ggplot(data = md_phi %>% filter(sud), aes(x = Age ))+
geom_histogram()+
xlim(0,100)
mean(md_phi$Age)
age<-md_phi %>% filter(Age>=18)
age<-md_phi %>% filter(Age>=18) %>% filter(Age<=64)
mean(age$Age)
coldnamesdf<-data.frame(colnames)
View(coldnamesdf)
write_csv(colnamesdf, "colnames")
colnamesdf<-data.frame(colnames)
write_csv(colnamesdf, "colnames")
write_csv(colnamesdf, "colnames.csv")
