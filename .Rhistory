scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER")
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = precent/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER")
#Filter out "other" conditions
tn_diag3 <- tn_diag2 %>% filter(Condition != "Other")
#Plot of % by county
ggplot(data = tn_diag3, aes(x = county,y = precent/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER")
#Filter out "other" conditions
tn_diag3 <- tn_diag2 %>% filter(Condition != "Other", county == "Other")
#Plot of % by county
ggplot(data = tn_diag3, aes(x = county,y = precent/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER")
#Filter out "other" conditions
tn_diag3 <- tn_diag2 %>% filter(Condition != "Other", county != "Other")
#Plot of % by county
ggplot(data = tn_diag3, aes(x = county,y = precent/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER")
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = precent/100, fill = type)) +
geom_col(position = "dodge",
aes(label = scales::precent(precent)))+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER")
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = precent/100, fill = type)) +
geom_col(position = "dodge",
aes(label = scales::percent(precent)))+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER")
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = precent/100, fill = type)) +
geom_col(position = "dodge",
aes(label = scales::percent(precent)))+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") +geom_test(aes(label = scales::percent(precent)))
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = precent/100, fill = type)) +
geom_col(position = "dodge",
aes(label = scales::percent(precent)))+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") +geom_text(aes(label = scales::percent(precent)))
library(ggrepel)
install.packages("ggrepel")
library(ggrepel)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = precent/100, fill = type)) +
geom_col(position = "dodge",
aes(label = scales::percent(precent)))+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = scales::percent(precent)))
# Code to make graph by SCP and Williamson
tn_diag3 <- tn_diag3 %>% mutate(scp = ifelse(county == "Franklin" | county == "Marion" | county == "Grundy", "SCP",
ifelse(county == "Williamson", "Williamson", "Other")))
library(ggrepel)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = precent/100, fill = type)) +
geom_col(position = "dodge",
aes(label = scales::percent(precent)))+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = scales::percent(precent)))
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = precent/100, fill = type)) +
geom_col(position = "dodge",
aes(label = scales::percent(precent)))+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") #+ geom_text(aes(label = scales::percent(precent)))
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = precent/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = scales::percent(precent)))
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = precent/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = precent))
# Code to make graph by SCP and Williamson
tn_diag3 <- tn_diag3 %>% mutate(scp = ifelse(county == "Franklin" | county == "Marion" | county == "Grundy", "SCP",
ifelse(county == "Williamson", "Williamson", "Other"))) %>% group_by(scp)
library(ggrepel)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = precent/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = precent))
# Code to make graph by SCP and Williamson
tn_diag3 <- tn_diag3 %>% mutate(scp = ifelse(county == "Franklin" | county == "Marion" | county == "Grundy", "SCP",
ifelse(county == "Williamson", "Williamson", "Other"))) %>%
group_by(scp) %>%
summarize(mean_prec = mean(precent))
#Filter out "other" conditions
tn_diag3 <- tn_diag2 %>% filter(Condition != "Other", county != "Other")
# Code to make graph by SCP and Williamson
tn_diag3 <- tn_diag3 %>% mutate(scp = ifelse(county == "Franklin" | county == "Marion" | county == "Grundy", "SCP",
ifelse(county == "Williamson", "Williamson", "Other"))) %>%
group_by(scp, Condition) %>%
summarize(mean_prec = mean(precent))
#Filter out "other" conditions
tn_diag3 <- tn_diag2 %>% filter(Condition != "Other", county != "Other")
# Code to make graph by SCP and Williamson
tn_diag3 <- tn_diag3 %>% mutate(scp = ifelse(county == "Franklin" | county == "Marion" | county == "Grundy", "SCP",
ifelse(county == "Williamson", "Williamson", "Other"))) %>%
group_by(scp, Type) %>%
summarize(mean_prec = mean(precent))
# Code to make graph by SCP and Williamson
tn_diag3 <- tn_diag3 %>% mutate(scp = ifelse(county == "Franklin" | county == "Marion" | county == "Grundy", "SCP",
ifelse(county == "Williamson", "Williamson", "Other"))) %>%
group_by(scp, type) %>%
summarize(mean_prec = mean(precent))
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = precent/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = precent))
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = precent/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = mean_prec))
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = mean_prec/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = mean_prec))
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = mean_prec/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = mean_prec), vjust = 0)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = mean_prec/100, fill = type)) +
geom_col(position = "dodge", aes(label = mean_prec), vjust = 0)+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") #+ geom_text(aes(label = mean_prec), vjust = 0)
y = "Percentage of Visits to the ER") + geom_text(aes(label = round(mean_prec),position = position_dodge(width = 0.9), vjust = 0)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = mean_prec/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = round(mean_prec)),position = position_dodge(width = 0.9), vjust = 0)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = mean_prec/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = round(mean_prec)),position = position_dodge(width = 0.9), vjust = .5)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = mean_prec/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = round(mean_prec)),position = position_dodge(width = 0.9), vjust = -.5)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = mean_prec/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = round(mean_prec + "%")),position = position_dodge(width = 0.9), vjust = -.5)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = mean_prec/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = round(mean_prec)+ "%"),position = position_dodge(width = 0.9), vjust = -.5)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = mean_prec/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = round(mean_prec),"%"),position = position_dodge(width = 0.9), vjust = -.5)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = mean_prec/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = round(mean_prec)"%"),position = position_dodge(width = 0.9), vjust = -.5)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = mean_prec/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = scales::percent(round(mean_prec))),position = position_dodge(width = 0.9), vjust = -.5)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = mean_prec/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = scales::percent(round(mean_prec))/100),position = position_dodge(width = 0.9), vjust = -.5)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = mean_prec/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = scales::percent(round(mean_prec)/100)),position = position_dodge(width = 0.9), vjust = -.5)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = mean_prec/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = scales::percent(mean_prec)),position = position_dodge(width = 0.9), vjust = -.5)
#Plot of % by SCP or Williamson (DODGE GRAPH)
ggplot(data = tn_diag3, aes(x = scp,y = mean_prec/100, fill = type)) +
geom_col(position = "dodge")+
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits",
x = '') +
scale_fill_manual(values=c("#74A9CF",
"#08306B"),
name = "Type of Condition") +
scale_y_continuous(labels = scales::percent) +
labs(title = "Comparison of Primary Diagnosis Conditions",
y = "Percentage of Visits to the ER") + geom_text(aes(label = scales::percent(mean_prec/100)),position = position_dodge(width = 0.9), vjust = -.5)
write.csv(tn_diag2, "tn_conditions.csv")
source("~/Desktop/Syndemic Project/syndemic/syndemic_graphs_jacob.R", echo=TRUE)
setwd("~/Desktop/Syndemic Project/syndemic")
source("~/Desktop/Syndemic Project/syndemic/syndemic_graphs_jacob.R", echo=TRUE)
#Plots SUDS and SSTVIs or Endo
ggplot(data = md_phi_jacob %>%
filter(sud, sstvi|endo),
aes(x = quarter,
y = Total_Tot_Chrg/100,
fill = gov)) +
geom_col(position = 'dodge') +
labs(title = 'Trends in Costs for Substance Abuse and Endocarditis or a SSTVI',
subtitle = 'TN Hospitals 2019 | Inpatient and Outpatient',
caption = 'End the Syndemic | DataLab 2022',
caption = 'fff',
x = 'Yearly Quarter',
y = 'Cost (In US Dollars)',
fill = 'Primary Payer:') +
theme(legend.position = 'bottom') +
scale_fill_manual(values = c('#C11701', '#1B365D'))
#Creates a venn diagram showing overlap in SUDS and syndemic related ICD-10s
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('count')) +
theme(legend.position = '0') +
labs(title = 'Hospitalization overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019 | Inpatient and Outpatient',
caption = 'End the Syndemic | DataLab 2022') +
scale_color_manual(values = c('black','black')) +
scale_fill_gradientn(colors = c('#555555', '#C11701', '#555555', '#1B365D'))
#Plots SUDS and SSTVIs
ggplot(data = md_phi_jacob %>%
filter(sud, sstvi),
aes(x = quarter,
y = Total_Tot_Chrg/100,
fill = gov)) +
geom_col(position = 'dodge') +
labs(title = 'Trends in Costs for Substance Abuse and all SSTVIs',
subtitle = 'TN Hospitals 2019 | Inpatient and Outpatient',
caption = 'End the Syndemic | DataLab 2022',
x = 'Yearly Quarter',
y = 'Cost (In US Dollars)',
fill = 'Primary Payer:') +
theme(legend.position = 'bottom') +
scale_fill_manual(values = c('#C11701', '#1B365D'))
#Plots SUDS and SSTVIs or Endo
ggplot(data = md_phi_jacob %>%
filter(sud, sstvi|endo),
aes(x = quarter,
y = Total_Tot_Chrg/100,
fill = gov)) +
geom_col(position = 'dodge') +
labs(title = 'Trends in Costs for Substance Abuse and Endocarditis or a SSTVI',
subtitle = 'TN Hospitals 2019 | Inpatient and Outpatient',
caption = 'End the Syndemic | DataLab 2022',
x = 'Yearly Quarter',
y = 'Cost (In US Dollars)',
fill = 'Primary Payer:') +
theme(legend.position = 'bottom') +
scale_fill_manual(values = c('#C11701', '#1B365D'))
source("~/Desktop/Syndemic Project/syndemic/syndemic_graphs_jacob.R", echo=TRUE)
source("~/Desktop/Syndemic Project/syndemic/syndemic_graphs_jacob.R", echo=TRUE)
########################
library(tidyverse)
library(ggVennDiagram)
library(forcats)
library(lubridate)
md <- read_csv('masterdata.csv')
zipid<-read_csv("countybyid.csv")
md<-full_join(zipid,md,by = "...1") %>% filter(state == "TN")
#Creates a list of SUDs & ENDO or SSTVI for the ggvenn package to read
syndemic_list <-
list('SUDs' = which(md$sud),
'SSTVIs or Endocarditis' = which(md$endo | md$sstvi))
#Venn diagram with percents and counts (misleading)
ggVennDiagram(syndemic_list,
label_size = 4,
label_alpha = 0.3,
label = c('both')) +
theme(legend.position = '0') +
labs(title = 'Hospitalization overlap for substance use disorder (SUDs) and infectious sequela of interest',
subtitle = 'TN Hospitals 2019 | Inpatient and Outpatient',
caption = 'End the Syndemic | DataLab 2022') +
scale_color_manual(values = c('black','black')) +
scale_fill_gradientn(colors = c('#555555', '#91BAA7', '#555555', '#1B365D'))
gc()
gc()
